(this["webpackJsonpionic-react"]=this["webpackJsonpionic-react"]||[]).push([[1],{103:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(33),i=n.n(o),c=n(67),s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var u=n(2),m=n(62),f=n(16),d=n(13),y=n(26),j=(n(103),function(e){return a.a.createElement(u.e,{className:"memory-item"},a.a.createElement("img",{src:e.memory.base64String,alt:e.memory.title}),a.a.createElement(u.f,null,a.a.createElement(u.g,null,e.memory.title)))}),p=function(e){return a.a.createElement(a.a.Fragment,null,e.itemsList.map((function(e,t){return a.a.createElement(u.u,{key:t},a.a.createElement(u.h,null,a.a.createElement(j,{memory:e})))})))},h=function(e){return a.a.createElement(a.a.Fragment,null,!Object(u.L)("ios")&&a.a.createElement(u.j,{vertical:"bottom",horizontal:"end",slot:"fixed"},a.a.createElement(u.k,{routerLink:e.link},a.a.createElement(u.n,{icon:e.icon}))))},E=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(u.C,null,a.a.createElement(u.B,null,e.title),Object(u.L)("ios")&&a.a.createElement(u.d,{slot:"end"},a.a.createElement(u.c,{routerLink:e.link},a.a.createElement(u.n,{slot:"icon-only",icon:e.icon})))))},v=function(e){return a.a.createElement(u.r,null,a.a.createElement(u.m,null,a.a.createElement(E,{title:e.title,link:"/new-memories",icon:d.a})),a.a.createElement(u.i,null,a.a.createElement(u.l,null,0===e.items.length&&a.a.createElement(u.u,null,a.a.createElement(u.h,{className:"ion-text-center"},a.a.createElement("h2",null,"No ",e.title," Found"))),a.a.createElement(p,{itemsList:e.items})),a.a.createElement(h,{icon:d.a,link:"/new-memories"})))},b=function(){var e=Object(r.useContext)(y.a).memories.filter((function(e){return"Good"===e.type}));return a.a.createElement(v,{items:e,title:"Good Memories"})},g=function(){var e=Object(r.useContext)(y.a).memories.filter((function(e){return"Bad"===e.type}));return a.a.createElement(v,{items:e,title:"Bad Memories"})},w=(n(104),n(105),n(106),n(107),n(108),n(109),n(110),n(111),n(112),n(113),n(114),n(115),a.a.lazy((function(){return n.e(9).then(n.bind(null,192))}))),k=function(){var e=Object(r.useContext)(y.a).initContext;return Object(r.useEffect)((function(){e()}),[e]),a.a.createElement(u.a,null,a.a.createElement(m.a,null,a.a.createElement(a.a.Suspense,{fallback:a.a.createElement(u.x,null)},a.a.createElement(u.A,null,a.a.createElement(u.t,null,a.a.createElement(f.b,{path:"/good-memories"},a.a.createElement(b,null)),a.a.createElement(f.b,{path:"/bad-memories"},a.a.createElement(g,null)),a.a.createElement(f.b,{path:"/new-memories"},a.a.createElement(w,null)),a.a.createElement(f.a,{to:"/good-memories"})),a.a.createElement(u.y,{slot:"bottom"},a.a.createElement(u.z,{href:"/good-memories",tab:"good"},a.a.createElement(u.n,{icon:d.j}),a.a.createElement(u.q,null,"Good Memories")),a.a.createElement(u.z,{href:"/bad-memories",tab:"bad"},a.a.createElement(u.n,{icon:d.o}),a.a.createElement(u.q,null,"Bad Memories")))))))},O=n(64),_=n(4),x=n.n(_),C=n(40),N=n(12),S=n(37),P=n(21),L=n(66),F=P.e.Storage,M=P.e.Filesystem,D=function(e){var t=Object(r.useState)([]),n=Object(S.a)(t,2),o=n[0],i=n[1];Object(r.useEffect)((function(){var e=o.map((function(e){return{id:e.id,imagePath:e.imagePath,title:e.title,type:e.type}}));F.set({key:"memories",value:JSON.stringify(e)})}),[o]);var c=function(){var e=Object(N.a)(x.a.mark((function e(t,n,r){var a,o,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(new Date).getTime()+".jpeg",e.next=3,Object(L.a)(t.preview);case 3:o=e.sent,M.writeFile({path:a,data:o,directory:P.d.Data}),c={id:Math.random.toString(),imagePath:a,title:n,type:r,base64String:o},i((function(e){return[].concat(Object(C.a)(e),[c])}));case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),s=Object(r.useCallback)(Object(N.a)(x.a.mark((function e(){var t,n,r,a,o,c,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.get({key:"memories"});case 2:t=e.sent,n=t.value?JSON.parse(t.value):[],r=[],a=Object(O.a)(n),e.prev=6,a.s();case 8:if((o=a.n()).done){e.next=16;break}return c=o.value,e.next=12,M.readFile({path:c.imagePath,directory:P.d.Data});case 12:s=e.sent,r.push({id:c.id,title:c.title,type:c.type,imagePath:c.imagePath,base64String:"data:image/jpeg;base64,"+s.data});case 14:e.next=8;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),a.e(e.t0);case 21:return e.prev=21,a.f(),e.finish(21);case 24:i(r);case 25:case"end":return e.stop()}}),e,null,[[6,18,21,24]])}))),[]);return a.a.createElement(y.a.Provider,{value:{memories:o,addMemory:c,initContext:s}},e.children)};i.a.render(a.a.createElement(D,null,a.a.createElement(k,null)),document.getElementById("root")),Object(c.a)(window),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");s?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):l(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):l(t,e)}))}}()},26:function(e,t,n){"use strict";var r=n(0),a=n.n(r).a.createContext({memories:[],addMemory:function(){},initContext:function(){}});t.a=a},69:function(e,t,n){e.exports=n(116)},74:function(e,t,n){var r={"./pwa-action-sheet.entry.js":[121,60],"./pwa-camera-modal-instance.entry.js":[122,61],"./pwa-camera-modal.entry.js":[123,62],"./pwa-camera.entry.js":[124,63],"./pwa-toast.entry.js":[125,64]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=74,e.exports=a},76:function(e,t,n){var r={"./ion-action-sheet.entry.js":[127,7],"./ion-alert.entry.js":[128,8],"./ion-app_8.entry.js":[129,10],"./ion-avatar_3.entry.js":[130,21],"./ion-back-button.entry.js":[131,22],"./ion-backdrop.entry.js":[132,46],"./ion-button_2.entry.js":[133,23],"./ion-card_5.entry.js":[134,24],"./ion-checkbox.entry.js":[135,25],"./ion-chip.entry.js":[136,26],"./ion-col_3.entry.js":[137,47],"./ion-datetime_3.entry.js":[138,13],"./ion-fab_3.entry.js":[139,27],"./ion-img.entry.js":[140,48],"./ion-infinite-scroll_2.entry.js":[141,49],"./ion-input.entry.js":[142,28],"./ion-item-option_3.entry.js":[143,29],"./ion-item_8.entry.js":[144,30],"./ion-loading.entry.js":[145,31],"./ion-menu_3.entry.js":[146,32],"./ion-modal.entry.js":[147,11],"./ion-nav_2.entry.js":[148,18],"./ion-popover.entry.js":[149,12],"./ion-progress-bar.entry.js":[150,33],"./ion-radio_2.entry.js":[151,34],"./ion-range.entry.js":[152,35],"./ion-refresher_2.entry.js":[153,14],"./ion-reorder_2.entry.js":[154,20],"./ion-ripple-effect.entry.js":[155,50],"./ion-route_4.entry.js":[156,36],"./ion-searchbar.entry.js":[157,37],"./ion-segment_2.entry.js":[158,38],"./ion-select_3.entry.js":[159,39],"./ion-slide_2.entry.js":[160,51],"./ion-spinner.entry.js":[161,16],"./ion-split-pane.entry.js":[162,52],"./ion-tab-bar_2.entry.js":[163,40],"./ion-tab_2.entry.js":[164,19],"./ion-text.entry.js":[165,41],"./ion-textarea.entry.js":[166,42],"./ion-toast.entry.js":[167,43],"./ion-toggle.entry.js":[168,15],"./ion-virtual-scroll.entry.js":[169,53]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=76,e.exports=a},98:function(e,t,n){var r={"./ion-icon.entry.js":[173,68]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=98,e.exports=a}},[[69,3,6]]]);
//# sourceMappingURL=main.2da06ae3.chunk.js.map